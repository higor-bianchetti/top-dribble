!function(){"use strict";var module=angular.module("dribbble",["ngResource"]);module.factory("TokenHandler",function(){var tokenHandler={},token="e82d4d79506602b61c199b4512d0dac31cd55bba3ba8d51f71008ffd6337618e";tokenHandler.set=function(newToken){token=newToken},tokenHandler.get=function(){return token},tokenHandler.wrapActions=function(resource,actions){for(var wrappedResource=resource,i=0;i<actions.length;i++)tokenWrapper(wrappedResource,actions[i]);return wrappedResource};var tokenWrapper=function(resource,action){resource["_"+action]=resource[action],resource[action]=function(data,success,error){return resource["_"+action](angular.extend({},data||{},{access_token:tokenHandler.get()}),success,error)}};return tokenHandler}),module.factory("Shots",function($resource,TokenHandler){return $resource("https://api.dribbble.com/v1/shots/:id",{access_token:TokenHandler.get()},{fetchAll:{method:"GET",params:{id:"@id"},isArray:!0},fetchById:{method:"GET",params:{id:"@id"}}})})}();var app=angular.module("app",["ui.router","dribbble","ngSanitize","angular-loading-bar"]);app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$stateProvider.state("page",{url:"/page",templateUrl:"views/common.html"}).state("page.about",{url:"/about",templateUrl:"views/about.html"}).state("page.contact",{url:"/contact",templateUrl:"views/contact.html"}).state("page.list",{url:"/list",templateUrl:"views/list.html",controller:"ShotsController"}).state("page.detail",{url:"/detail/:id",templateUrl:"views/detail.html",controller:"ShotsDetailController"}),$urlRouterProvider.otherwise("/page/list")}]);